"use strict";(self.webpackChunkpadme_browser=self.webpackChunkpadme_browser||[]).push([[975],{269:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{DH:()=>main,mp:()=>WButton,d:()=>Cartridge,G2:()=>Emulator,G6:()=>__wbindgen_cb_drop,ug:()=>__wbindgen_object_drop_ref,h4:()=>__wbindgen_string_new,pT:()=>__wbindgen_number_new,Ih:()=>__wbg_new_693216e109162396,yq:()=>__wbg_stack_0ddaca5d1abfb52f,gk:()=>__wbg_error_09919627ac0992f5,HT:()=>__wbindgen_boolean_get,jx:()=>__wbg_instanceof_Window_0e6c0f1096d66c3c,W5:()=>__wbg_setTimeout_a100c5fd6f7b2032,AO:()=>__wbg_destination_f4f5ac55ff6e3785,FO:()=>__wbg_currentTime_510dde7d31c119e8,n8:()=>__wbg_newwithcontextoptions_306dddcebb669c90,ON:()=>__wbg_close_cb79e4f9c785e64c,QS:()=>__wbg_createBuffer_19d3c1651316a6c2,yK:()=>__wbg_createBufferSource_414d1e25fd67f353,C9:()=>__wbg_resume_00606714ccb596ff,Mc:()=>__wbg_setbuffer_72cfecac4d22725d,GI:()=>__wbg_setonended_f22c38d46d048b5e,mF:()=>__wbg_start_a0eb9df7289c5c06,fO:()=>__wbg_connect_7fe7ce5856f531e9,b_:()=>__wbg_copyToChannel_4f2e7d757aea797a,TL:()=>__wbg_newnoargs_e23b458e372830de,_3:()=>__wbg_call_ae78342adc33730a,cN:()=>__wbg_new_36359baae5a47e27,OF:()=>__wbg_self_99737b4dcdf6f0d8,xB:()=>__wbg_window_9b61fbbf3564c4fb,KQ:()=>__wbg_globalThis_8e275ef40caea3a3,vm:()=>__wbg_global_5de1e0f82bddcd27,XP:()=>__wbindgen_is_undefined,h7:()=>__wbg_eval_9088357f1aeaedf3,ry:()=>__wbg_call_3ed288a247f13ea5,m_:()=>__wbindgen_object_clone_ref,yg:()=>__wbg_set_93b1c87ee2af852e,fY:()=>__wbindgen_debug_string,Or:()=>__wbindgen_throw,PF:()=>__wbindgen_closure_wrapper83});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(671),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(144),_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(564);module=__webpack_require__.hmd(module);var lAudioContext="undefined"!=typeof AudioContext?AudioContext:"undefined"!=typeof webkitAudioContext?webkitAudioContext:void 0,heap=new Array(32).fill(void 0);function getObject(e){return heap[e]}heap.push(void 0,null,!0,!1);var heap_next=heap.length;function dropObject(e){e<36||(heap[e]=heap_next,heap_next=e)}function takeObject(e){var t=getObject(e);return dropObject(e),t}var lTextDecoder="undefined"==typeof TextDecoder?(0,module.require)("util").TextDecoder:TextDecoder,cachedTextDecoder=new lTextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});cachedTextDecoder.decode();var cachegetUint8Memory0=null;function getUint8Memory0(){return null!==cachegetUint8Memory0&&cachegetUint8Memory0.buffer===_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer||(cachegetUint8Memory0=new Uint8Array(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer)),cachegetUint8Memory0}function getStringFromWasm0(e,t){return cachedTextDecoder.decode(getUint8Memory0().subarray(e,e+t))}function addHeapObject(e){heap_next===heap.length&&heap.push(heap.length+1);var t=heap_next;return heap_next=heap[t],heap[t]=e,t}function debugString(e){var t=(0,_babel_runtime_helpers_typeof__WEBPACK_IMPORTED_MODULE_1__.Z)(e);if("number"==t||"boolean"==t||null==e)return"".concat(e);if("string"==t)return'"'.concat(e,'"');if("symbol"==t){var n=e.description;return null==n?"Symbol":"Symbol(".concat(n,")")}if("function"==t){var r=e.name;return"string"==typeof r&&r.length>0?"Function(".concat(r,")"):"Function"}if(Array.isArray(e)){var a=e.length,i="[";a>0&&(i+=debugString(e[0]));for(var s=1;s<a;s++)i+=", "+debugString(e[s]);return i+"]"}var o,_=/\[object ([^\]]+)\]/.exec(toString.call(e));if(!(_.length>1))return toString.call(e);if("Object"==(o=_[1]))try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?"".concat(e.name,": ").concat(e.message,"\n").concat(e.stack):o}var WASM_VECTOR_LEN=0,lTextEncoder="undefined"==typeof TextEncoder?(0,module.require)("util").TextEncoder:TextEncoder,cachedTextEncoder=new lTextEncoder("utf-8"),encodeString="function"==typeof cachedTextEncoder.encodeInto?function(e,t){return cachedTextEncoder.encodeInto(e,t)}:function(e,t){var n=cachedTextEncoder.encode(e);return t.set(n),{read:e.length,written:n.length}};function passStringToWasm0(e,t,n){if(void 0===n){var r=cachedTextEncoder.encode(e),a=t(r.length);return getUint8Memory0().subarray(a,a+r.length).set(r),WASM_VECTOR_LEN=r.length,a}for(var i=e.length,s=t(i),o=getUint8Memory0(),_=0;_<i;_++){var c=e.charCodeAt(_);if(c>127)break;o[s+_]=c}if(_!==i){0!==_&&(e=e.slice(_)),s=n(s,i,i=_+3*e.length);var l=getUint8Memory0().subarray(s+_,s+i);_+=encodeString(e,l).written}return WASM_VECTOR_LEN=_,s}var cachegetInt32Memory0=null;function getInt32Memory0(){return null!==cachegetInt32Memory0&&cachegetInt32Memory0.buffer===_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer||(cachegetInt32Memory0=new Int32Array(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer)),cachegetInt32Memory0}function makeMutClosure(e,t,n,r){var a={a:e,b:t,cnt:1,dtor:n},i=function(){a.cnt++;var e=a.a;a.a=0;try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.apply(void 0,[e,a.b].concat(n))}finally{0==--a.cnt?_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_2.get(a.dtor)(e,a.b):a.a=e}};return i.original=a,i}function __wbg_adapter_20(e,t){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_3(e,t)}function passArray8ToWasm0(e,t){var n=t(1*e.length);return getUint8Memory0().set(e,n/1),WASM_VECTOR_LEN=e.length,n}function _assertClass(e,t){if(!(e instanceof t))throw new Error("expected instance of ".concat(t.name));return e.ptr}function main(){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.main()}function handleError(e,t){try{return e.apply(this,t)}catch(e){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_5(addHeapObject(e))}}var cachegetFloat32Memory0=null;function getFloat32Memory0(){return null!==cachegetFloat32Memory0&&cachegetFloat32Memory0.buffer===_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer||(cachegetFloat32Memory0=new Float32Array(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.memory.buffer)),cachegetFloat32Memory0}function getArrayF32FromWasm0(e,t){return getFloat32Memory0().subarray(e/4,e/4+t)}var WButton=Object.freeze({A:0,0:"A",B:1,1:"B",Select:2,2:"Select",Start:3,3:"Start",Up:4,4:"Up",Down:5,5:"Down",Left:6,6:"Left",Right:7,7:"Right"}),Cartridge=function(){function e(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.Z)(this,e)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__.Z)(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_cartridge_free(e)}},{key:"title",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_title(this.ptr))}},{key:"cartridge_type",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_cartridge_type(this.ptr))}},{key:"licensee",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_licensee(this.ptr))}},{key:"cgb_mode",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_cgb_mode(this.ptr))}},{key:"is_sgb",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_is_sgb(this.ptr))}},{key:"is_jp",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_is_jp(this.ptr))}},{key:"rom_size",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_rom_size(this.ptr))}},{key:"ram_size",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_ram_size(this.ptr))}},{key:"version",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_version(this.ptr))}},{key:"checksum",value:function(){return takeObject(_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_checksum(this.ptr))}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}},{key:"new",value:function(t){try{var n=_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_add_to_stack_pointer(-16),r=passArray8ToWasm0(t,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_0),a=WASM_VECTOR_LEN;_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.cartridge_new(n,r,a);var i=getInt32Memory0()[n/4+0],s=getInt32Memory0()[n/4+1];if(getInt32Memory0()[n/4+2])throw takeObject(s);return e.__wrap(i)}finally{_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_add_to_stack_pointer(16)}}}]),e}(),Emulator=function(){function e(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.Z)(this,e)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__.Z)(e,[{key:"__destroy_into_raw",value:function(){var e=this.ptr;return this.ptr=0,e}},{key:"free",value:function(){var e=this.__destroy_into_raw();_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbg_emulator_free(e)}},{key:"load_cartridge",value:function(e){_assertClass(e,Cartridge);var t=e.ptr;e.ptr=0,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_load_cartridge(this.ptr,t)}},{key:"load_bin",value:function(e){try{var t=_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_add_to_stack_pointer(-16),n=passArray8ToWasm0(e,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_0),r=WASM_VECTOR_LEN;_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_load_bin(t,this.ptr,n,r);var a=getInt32Memory0()[t/4+0];if(getInt32Memory0()[t/4+1])throw takeObject(a)}finally{_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_add_to_stack_pointer(16)}}},{key:"update",value:function(){return _padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_update(this.ptr)>>>0}},{key:"min_frame_time",value:function(){return _padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_min_frame_time(this.ptr)>>>0}},{key:"framebuffer",value:function(){return _padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_framebuffer(this.ptr)}},{key:"reset",value:function(){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_reset(this.ptr)}},{key:"set_button",value:function(e,t){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_set_button(this.ptr,e,t)}},{key:"enable_audio",value:function(e){_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_enable_audio(this.ptr,e)}}],[{key:"__wrap",value:function(t){var n=Object.create(e.prototype);return n.ptr=t,n}},{key:"new",value:function(t,n){_assertClass(t,Cartridge);var r=t.ptr;t.ptr=0;var a=_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.emulator_new(r,addHeapObject(n));return e.__wrap(a)}}]),e}();function __wbindgen_cb_drop(e){var t=takeObject(e).original;return 1==t.cnt--&&(t.a=0,!0)}function __wbindgen_object_drop_ref(e){takeObject(e)}function __wbindgen_string_new(e,t){return addHeapObject(getStringFromWasm0(e,t))}function __wbindgen_number_new(e){return addHeapObject(e)}function __wbg_new_693216e109162396(){return addHeapObject(new Error)}function __wbg_stack_0ddaca5d1abfb52f(e,t){var n=passStringToWasm0(getObject(t).stack,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_0,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n}function __wbg_error_09919627ac0992f5(e,t){try{console.error(getStringFromWasm0(e,t))}finally{_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_4(e,t)}}function __wbindgen_boolean_get(e){var t=getObject(e);return"boolean"==typeof t?t?1:0:2}function __wbg_instanceof_Window_0e6c0f1096d66c3c(e){return getObject(e)instanceof Window}function __wbg_setTimeout_a100c5fd6f7b2032(){return handleError((function(e,t,n){return getObject(e).setTimeout(getObject(t),n)}),arguments)}function __wbg_destination_f4f5ac55ff6e3785(e){return addHeapObject(getObject(e).destination)}function __wbg_currentTime_510dde7d31c119e8(e){return getObject(e).currentTime}function __wbg_newwithcontextoptions_306dddcebb669c90(){return handleError((function(e){return addHeapObject(new lAudioContext(getObject(e)))}),arguments)}function __wbg_close_cb79e4f9c785e64c(){return handleError((function(e){return addHeapObject(getObject(e).close())}),arguments)}function __wbg_createBuffer_19d3c1651316a6c2(){return handleError((function(e,t,n,r){return addHeapObject(getObject(e).createBuffer(t>>>0,n>>>0,r))}),arguments)}function __wbg_createBufferSource_414d1e25fd67f353(){return handleError((function(e){return addHeapObject(getObject(e).createBufferSource())}),arguments)}function __wbg_resume_00606714ccb596ff(){return handleError((function(e){return addHeapObject(getObject(e).resume())}),arguments)}function __wbg_setbuffer_72cfecac4d22725d(e,t){getObject(e).buffer=getObject(t)}function __wbg_setonended_f22c38d46d048b5e(e,t){getObject(e).onended=getObject(t)}function __wbg_start_a0eb9df7289c5c06(){return handleError((function(e,t){getObject(e).start(t)}),arguments)}function __wbg_connect_7fe7ce5856f531e9(){return handleError((function(e,t){return addHeapObject(getObject(e).connect(getObject(t)))}),arguments)}function __wbg_copyToChannel_4f2e7d757aea797a(){return handleError((function(e,t,n,r){getObject(e).copyToChannel(getArrayF32FromWasm0(t,n),r)}),arguments)}function __wbg_newnoargs_e23b458e372830de(e,t){return addHeapObject(new Function(getStringFromWasm0(e,t)))}function __wbg_call_ae78342adc33730a(){return handleError((function(e,t){return addHeapObject(getObject(e).call(getObject(t)))}),arguments)}function __wbg_new_36359baae5a47e27(){return addHeapObject(new Object)}function __wbg_self_99737b4dcdf6f0d8(){return handleError((function(){return addHeapObject(self.self)}),arguments)}function __wbg_window_9b61fbbf3564c4fb(){return handleError((function(){return addHeapObject(window.window)}),arguments)}function __wbg_globalThis_8e275ef40caea3a3(){return handleError((function(){return addHeapObject(globalThis.globalThis)}),arguments)}function __wbg_global_5de1e0f82bddcd27(){return handleError((function(){return addHeapObject(__webpack_require__.g.global)}),arguments)}function __wbindgen_is_undefined(e){return void 0===getObject(e)}function __wbg_eval_9088357f1aeaedf3(){return handleError((function(arg0,arg1){var ret=eval(getStringFromWasm0(arg0,arg1));return addHeapObject(ret)}),arguments)}function __wbg_call_3ed288a247f13ea5(){return handleError((function(e,t,n){return addHeapObject(getObject(e).call(getObject(t),getObject(n)))}),arguments)}function __wbindgen_object_clone_ref(e){return addHeapObject(getObject(e))}function __wbg_set_93b1c87ee2af852e(){return handleError((function(e,t,n){return Reflect.set(getObject(e),getObject(t),getObject(n))}),arguments)}function __wbindgen_debug_string(e,t){var n=passStringToWasm0(debugString(getObject(t)),_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_0,_padme_wasm_bg_wasm__WEBPACK_IMPORTED_MODULE_0__.__wbindgen_export_1),r=WASM_VECTOR_LEN;getInt32Memory0()[e/4+1]=r,getInt32Memory0()[e/4+0]=n}function __wbindgen_throw(e,t){throw new Error(getStringFromWasm0(e,t))}function __wbindgen_closure_wrapper83(e,t,n){return addHeapObject(makeMutClosure(e,t,13,__wbg_adapter_20))}},975:(e,t,n)=>{n.r(t);var r=n(269),a=n(400),i=n(323);const s="nm9zOsq6o2llwF9DqtIH";var o,_=function(){var e=(0,i.bI)("cartridge").cartridge,t=e.loaded,n=e.title,r=e.type,o=e.licensee,_=e.romSize,c=e.ramSize,l=e.colorMode,u=e.isJp,d=e.version,h=e.checksum,f=t?"EP1GwsasforztpTe_41c":"";return(0,a.h)("div",{class:"".concat("WIy5dRsGYN1EqLrHXtiT"," ").concat(f)},(0,a.h)("div",{class:"LaNu8nOkvsJZvMqdlfCt"},(0,a.h)("div",{class:"GMwSqhSvc_Izs13pl9eF"},n)),(0,a.h)("div",{class:"MTHp3nDLki_jEylopxyP"},(0,a.h)("table",{class:"is-size-7"},(0,a.h)("tr",null,(0,a.h)("td",null,"Cartridge type:"),(0,a.h)("td",{class:s},r)),(0,a.h)("tr",null,(0,a.h)("td",null,"Licensee:"),(0,a.h)("td",{class:s},o)),(0,a.h)("tr",null,(0,a.h)("td",null,"Size:"),(0,a.h)("td",{class:s},_," KB")),(0,a.h)("tr",null,(0,a.h)("td",null,"Ram size:"),(0,a.h)("td",{class:s},c," KB")),(0,a.h)("tr",null,(0,a.h)("td",null,"Color support:"),(0,a.h)("td",{class:s},l)),(0,a.h)("tr",null,(0,a.h)("td",null,"Japanese:"),(0,a.h)("td",{class:s},u?"Yes":"No")),(0,a.h)("tr",null,(0,a.h)("td",null,"Version:"),(0,a.h)("td",{class:s},d)),(0,a.h)("tr",null,(0,a.h)("td",null,"Checksum:"),(0,a.h)("td",{class:s},h?"✔":"✘")))))},c=n(396),l=n(661),u=function(e){var t=e.children,n=e.wrapperId,r=(0,c.eJ)(),a=r[0],i=r[1];return(0,c.bt)((function(){var e=document.getElementById(n);return e||(e=function(e){var t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t}(n)),i(e),function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}),[n]),a?(0,l.jz)(t,a):null},d=function(e){var t=e.children,n=e.footer,r=e.isOpen,i=e.onClose,s=e.title,o=(0,c.sO)(null);return(0,a.h)(u,{wrapperId:"modals"},(0,a.h)("div",{class:"modal ".concat(r?"is-active":"")},(0,a.h)("div",{ref:o,class:"modal-background",onClick:function(e){e.target==o.current&&i()}}),(0,a.h)("div",{class:"modal-card"},(0,a.h)("header",{class:"modal-card-head"},(0,a.h)("p",{class:"modal-card-title"},s),(0,a.h)("button",{class:"delete","aria-label":"close",onClick:i})),(0,a.h)("section",{class:"modal-card-body"},t),(0,a.h)("footer",{class:"modal-card-foot"},n))))};!function(e){e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS=20]="CAPS",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e["PAGE UP"]=33]="PAGE UP",e[e["PAGE DOWN"]=34]="PAGE DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e["⬅"]=37]="⬅",e[e["⬆"]=38]="⬆",e[e["➡"]=39]="➡",e[e["⬇"]=40]="⬇",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e["0 "]=48]="0 ",e[e["1 "]=49]="1 ",e[e["2 "]=50]="2 ",e[e["3 "]=51]="3 ",e[e["4 "]=52]="4 ",e[e["5 "]=53]="5 ",e[e["6 "]=54]="6 ",e[e["7 "]=55]="7 ",e[e["8 "]=56]="8 ",e[e["9 "]=57]="9 ",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.LEFT_META=91]="LEFT_META",e[e.RIGHT_META=92]="RIGHT_META",e[e.SELECT=93]="SELECT",e[e["NUMPAD 0"]=96]="NUMPAD 0",e[e["NUMPAD 1"]=97]="NUMPAD 1",e[e["NUMPAD 2"]=98]="NUMPAD 2",e[e["NUMPAD 3"]=99]="NUMPAD 3",e[e["NUMPAD 4"]=100]="NUMPAD 4",e[e["NUMPAD 5"]=101]="NUMPAD 5",e[e["NUMPAD 6"]=102]="NUMPAD 6",e[e["NUMPAD 7"]=103]="NUMPAD 7",e[e["NUMPAD 8"]=104]="NUMPAD 8",e[e["NUMPAD 9"]=105]="NUMPAD 9",e[e["NUMPAD *"]=106]="NUMPAD *",e[e["NUMPAD +"]=107]="NUMPAD +",e[e["NUMPAD -"]=109]="NUMPAD -",e[e["NUMPAD ."]=110]="NUMPAD .",e[e["NUMPAD /"]=111]="NUMPAD /",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUM_LOCK=144]="NUM_LOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e[";"]=186]=";",e[e["="]=187]="=",e[e[","]=188]=",",e[e["-"]=189]="-",e[e["."]=190]=".",e[e["/"]=191]="/",e[e.GRAVE_ACCENT=192]="GRAVE_ACCENT",e[e["["]=219]="[",e[e["\\"]=220]="\\",e[e["]"]=221]="]",e[e["'"]=222]="'"}(o||(o={}));var h=function(){return window.screen.width<768},f="padme_www_1";var p=function(e){var t=e.onKey,n=e.code,r=(0,c.sO)(null),i=function(e){e&&(e.preventDefault(),t(e.keyCode)),s()},s=function(){var e,t;null===(e=null==r?void 0:r.current)||void 0===e||e.removeEventListener("keydown",i),null===(t=null==r?void 0:r.current)||void 0===t||t.blur()};return(0,a.h)("input",{ref:r,class:"input is-small ".concat("cilr3p8hu0w5rOP45n9Y"),readonly:!0,type:"text",value:o[n],onFocus:function(){var e;null===(e=null==r?void 0:r.current)||void 0===e||e.addEventListener("keydown",i)},onBlur:s})};const b="Qof904YgqIEwdB9tlwvF",g="iQxbZKIrwS4Xt7k3yGjw",m="_jl9FULPLNOyIvqLNr9F",w="HUyzH8U65mEovpET2omO",y="SbZd4Jld8i61kybMZps5";var v=function(){var e=(0,i.bI)("settings"),t=e.dispatch,n=e.settings;return(0,a.h)("table",{class:"".concat("t46Fo047PTJnhx74YtFn"," is-size-6")},(0,a.h)("tr",null,(0,a.h)("td",null,(0,a.h)("label",{class:b,for:"up-input"},(0,a.h)("div",{class:"".concat(g," ").concat("Bmg3rKp2nS2bKM90riKE")}))),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Up],onKey:function(e){return t("settings/key/update",{name:r.mp.Up,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:b,for:"left-input"},(0,a.h)("div",{class:"".concat(g," ").concat("cD8KZx9Ng2HMRS_RCwYa")}))),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Left],onKey:function(e){return t("settings/key/update",{name:r.mp.Left,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:b,for:"right-input"},(0,a.h)("div",{class:"".concat(g," ").concat("isMt_OElWxmHElwVMGEd")}))),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Right],onKey:function(e){return t("settings/key/update",{name:r.mp.Right,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:b,for:"down-input"},(0,a.h)("div",{class:"".concat(g," ").concat("HktOHQxd37_GYsaiUHmo")}))),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Down],onKey:function(e){return t("settings/key/update",{name:r.mp.Down,code:e})}}))),(0,a.h)("tr",null,(0,a.h)("td",null,(0,a.h)("label",{class:w,for:"a-input"},"A")),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.A],onKey:function(e){return t("settings/key/update",{name:r.mp.A,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:w,for:"b-input"},"B")),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.B],onKey:function(e){return t("settings/key/update",{name:r.mp.B,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:y,for:"select-input"},"SELECT")),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Select],onKey:function(e){return t("settings/key/update",{name:r.mp.Select,code:e})}})),(0,a.h)("td",null,(0,a.h)("label",{class:y,for:"start-input"},"START")),(0,a.h)("td",{class:m},(0,a.h)(p,{code:n.keys[r.mp.Start],onKey:function(e){return t("settings/key/update",{name:r.mp.Start,code:e})}}))))},E=function(e){var t=e.isOpen,n=e.onClose;return(0,a.h)(d,{title:"Help center",isOpen:t,onClose:n},(0,a.h)("div",null,(0,a.h)("section",{class:"section"},(0,a.h)("h6",{class:"title is-5"},"How to play?"),(0,a.h)("p",{class:"is-size-6 pb-2"},"1. Select a game. You can find games online, usually typing ",(0,a.h)("code",null,"gameboy rom tetris")," on any search engine works."),h()?(0,a.h)("p",{class:"is-size-6"},"2. Each control is touchable"):(0,a.h)("p",{class:"is-size-6"},"2. Use the following keyboard mapping:",(0,a.h)(v,null))),(0,a.h)("section",{class:"section"},(0,a.h)("h6",{class:"title is-5"},"Bugs or feature requests?"),(0,a.h)("p",{class:"is-size-6"},"Please send me an email at alexlt@pm.me or open an ",(0,a.h)("a",{href:"https://github.com/alexlren/padme-browser/issues"},"issue on github"))),(0,a.h)("section",{class:"section"},(0,a.h)("h6",{class:"title is-5"},"How is this emulator made?"),(0,a.h)("p",{class:"is-size-6"},"First, there is a ",(0,a.h)("a",{href:"https://github.com/alexlren/padme-core"},"core")," made using the Rust programming language. It's platform-agnostic but it provides the tools to create an emulator depending on your platform."),(0,a.h)("p",{class:"is-size-6"},"Then, there is a ",(0,a.h)("a",{href:"https://github.com/alexlren/padme-browser/tree/main/src"},"WebAssembly wrapper"),", that uses the core but implements a real screen and a simple interface to be used by the last piece."),(0,a.h)("p",{class:"is-size-6"},"Finally, there is a ",(0,a.h)("a",{href:"https://github.com/alexlren/padme-browser/tree/main/www"},"web app"),", that embeds the webassembly library as the emulator and deals with everything UI-related."))))},O=function(e){var t=e.isOpen,n=e.onClose,r=(0,i.bI)("settings"),s=r.dispatch,o=r.settings,_=(0,a.h)("button",{class:"button",onClick:function(){return s("settings/reset")}},"Reset to default");return(0,a.h)(d,{title:"Settings",isOpen:t,onClose:n,footer:_},(0,a.h)("div",null,(0,a.h)("div",{class:"columns"},(0,a.h)("div",{class:"column is-two-thirds"},(0,a.h)("div",{class:"field is-horizontal"},(0,a.h)("div",{class:"field-label"},(0,a.h)("label",{class:"label"},"Scale")),(0,a.h)("div",{class:"field-body"},(0,a.h)("div",{class:"field"},(0,a.h)("div",{class:"control"},(0,a.h)("input",{type:"range",onInput:function(e){e.target&&s("settings/scale/update",e.target.value)},step:.1,min:1,max:3,id:"scale-input",value:o.scale}))))),(0,a.h)("div",{class:"field is-horizontal"},(0,a.h)("div",{class:"field-label"},(0,a.h)("label",{class:"label"},"Style")),(0,a.h)("div",{class:"field-body"},(0,a.h)("div",{class:"field"},(0,a.h)("div",{class:"control"},(0,a.h)("div",{class:"select"},(0,a.h)("select",{id:"style-input",value:o.styleName,onChange:function(e){e.target&&s("settings/style/update",e.target.value)}},(0,a.h)("option",{value:"nostyle"},"No style"),(0,a.h)("option",{value:"classic"},"Retro"))))))),(0,a.h)("div",{class:"field is-horizontal"},(0,a.h)("div",{class:"field-label"},(0,a.h)("label",{class:"label"},"Max FPS")),(0,a.h)("div",{class:"field-body"},(0,a.h)("div",{class:"field"},(0,a.h)("div",{class:"control"},(0,a.h)("input",{class:"input",id:"max-fps-input",type:"number",onInput:function(e){e.target&&s("settings/max-fps/update",e.target.value)},step:1,min:1,max:200,value:o.maxFps}))))),(0,a.h)("div",{class:"field is-horizontal"},(0,a.h)("div",{class:"field-label"},(0,a.h)("label",{class:"label"},"Serial port")),(0,a.h)("div",{class:"field-body"},(0,a.h)("div",{class:"field"},(0,a.h)("div",{class:"control"},(0,a.h)("input",{type:"checkbox",checked:o.serialEnabled,onInput:function(e){e.target&&s("settings/serial/update",e.target.checked)}}))))),(0,a.h)("div",{class:"field is-horizontal"},(0,a.h)("div",{class:"field-label"},(0,a.h)("label",{class:"label"},"Enable audio")),(0,a.h)("div",{class:"field-body"},(0,a.h)("div",{class:"field"},(0,a.h)("div",{class:"control"},(0,a.h)("input",{type:"checkbox",checked:o.audioEnabled,onInput:function(e){e.target&&s("settings/audio-enabled/update",e.target.checked)}}))))))),h()?null:(0,a.h)(v,null)))},M=function(){var e=null===localStorage.getItem(f),t=(0,c.eJ)(!1),r=t[0],i=t[1],s=(0,c.eJ)(e),o=s[0],_=s[1],l=(0,c.eJ)(!1),u=l[0],d=l[1];return e&&localStorage.setItem(f,"false"),(0,a.h)("nav",{class:"navbar has-shadow",role:"navigation","aria-label":"main navigation"},(0,a.h)("div",{class:"navbar-menu"}),(0,a.h)("div",{class:"navbar-brand"},(0,a.h)("a",{class:"navbar-item",href:"/"},(0,a.h)("img",{src:n(425)})),(0,a.h)("a",{role:"button",class:"navbar-burger","aria-label":"menu","aria-expanded":"false",onClick:function(){return d(!u)}},(0,a.h)("span",{"aria-hidden":"true"}),(0,a.h)("span",{"aria-hidden":"true"}),(0,a.h)("span",{"aria-hidden":"true"}))),(0,a.h)("div",{class:"navbar-menu ".concat(u?"is-active":"")},(0,a.h)("div",{class:"navbar-start"}),(0,a.h)("div",{class:"navbar-end"},(0,a.h)("div",{class:"navbar-item"},(0,a.h)("a",{href:"#",onClick:function(){return _(!0)}},(0,a.h)("span",{class:"icon"},(0,a.h)("i",{class:"padme icon-question"})))),(0,a.h)("div",{class:"navbar-item"},(0,a.h)("a",{href:"#",onClick:function(){return i(!0)}},(0,a.h)("span",{class:"icon"},(0,a.h)("i",{class:"padme icon-cog"})))))),(0,a.h)(O,{isOpen:r,onClose:function(){return i(!1)}}),(0,a.h)(E,{isOpen:o,onClose:function(){return _(!1)}}))},P=function(e){var t=(0,c.eJ)(""),n=t[0],s=t[1],o=(0,i.bI)().dispatch;return(0,a.h)("div",{class:"file has-name is-fullwidth"},(0,a.h)("label",{class:"file-label"},(0,a.h)("input",{class:"file-input",accept:".gb",type:"file",name:"resume",onChange:function(t){o("cartridge/unload");var n=t.target.files;if(n&&n.length>0){var a=n[0];s(a.name),setTimeout((function(){return t=void 0,n=void 0,s=function(){var t,n,i;return function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,a.arrayBuffer()];case 1:return t=s.sent(),n=new Uint8Array(t),i=r.d.new(n),o("cartridge/load",i),[4,e.onload(i)];case 2:case 3:return s.sent(),[3,4];case 4:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,r){function a(e){try{_(s.next(e))}catch(e){r(e)}}function o(e){try{_(s.throw(e))}catch(e){r(e)}}function _(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(a,o)}_((s=s.apply(t,n||[])).next())}));var t,n,i,s}),300)}}}),(0,a.h)("span",{class:"file-cta"},(0,a.h)("span",{class:"file-label"},"SELECT A GAME…")),(0,a.h)("span",{class:"file-name"},n)))},C=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,s=e.className,o=e.scale,_=void 0===o?1:o,c=e.children;return(0,a.h)("div",{style:{position:"absolute",top:n*_+"px",left:t*_+"px",width:r*_+"px",height:i*_+"px"},class:s},c)};const D={control:"M6XhixCTUiFt6svHr_fN",active:"g_cZdpMwlRajnKIM2N6y","control-dir":"uZ4GsQ_r1Dv120AUwt5Q","control-action":"GJBatqF4ySdFHfFroN7G","control-s":"uA90uxYw2VkhUMoDh9H3"};var T=function(){return T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},T.apply(this,arguments)},A=function(e){var t=D.control;return e.className&&(t+=" ".concat(D[e.className])),e.active&&(t+=" ".concat(D.active)),(0,a.h)(C,T({},e,{className:t}))},k=function(){return k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},k.apply(this,arguments)},x=function(e){return(0,a.h)(A,k({width:28,height:28,className:"control-action"},e))},R=function(){return R=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},R.apply(this,arguments)},U=function(e){return(0,a.h)(A,R({width:18,height:18,className:"control-dir"},e))},j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},j.apply(this,arguments)},S=function(e){return(0,a.h)(A,j({width:32,height:10,className:"control-s"},e))};var I,L=(I=function(e,t){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},I(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}I(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),F=function(e){function t(t){var n=e.call(this,t)||this;return n.state={fps:0},n._frameCount=0,n._startTime=0,n._endTime=0,n}return L(t,e),t.prototype.start=function(){this._startTime=(new Date).getTime()},t.prototype.update=function(e){this._startTime=(new Date).getTime()-e,++this._frameCount},t.prototype.elapsed=function(){var e=(new Date).getTime();return this._startTime-this._endTime>=1e3&&(this.setState({fps:this._frameCount}),this._endTime=e,this._frameCount=0),e-this._startTime},t.prototype.render=function(){return(0,a.h)("div",{class:"Q0jCixTmhFFlPf3a9u1e"},(0,a.h)("span",{class:"UtoSW5YjrSMPe0e4Pwh8"},"FPS:"),(0,a.h)("span",{class:"sASStNaRxwTUMKDklnxK"},this.state.fps))},t}(a.wA);const W="So0RVWOazuZiszchlC3g";var B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)},N=function(e){var t=e.toggled,n=e.onChange,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["toggled","onChange"]);return(0,a.h)(C,B({className:"RiXoVlg2N9RmJIuJ2zWB"},r),(0,a.h)("div",{class:"_7D0cPA90KMrMo2ooeEmw"}),(0,a.h)("span",{class:W},"OFF"),(0,a.h)("label",{class:"VS5SjVUdXu8qVTdJML6J"},(0,a.h)("input",{type:"checkbox",checked:t,onChange:function(){return n(!t)}}),(0,a.h)("span",{class:"ivuOQY6lpEBpUAUux5hO"})),(0,a.h)("span",{class:W},"ON"),(0,a.h)("div",{class:"eHRfkMGSnFJhSarEMRm1"}))},K=n(564);const H={container:"wePrn9G5tYtNPUN_gLQn",overlay:"gDveyTRzcdVtTvu82vlB",classic:"wAmrBQDMGG08dNeeTOfM"};var z,G=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},q.apply(this,arguments)},V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canvasRef=(0,a.Vf)(),t}return G(t,e),t.prototype.render=function(){var e=this.props.settings.styleName;return(0,a.h)(C,q({className:H.container},this.props),(0,a.h)("canvas",{ref:this._canvasRef,width:this.props.width,height:this.props.height}),(0,a.h)("div",{class:H.overlay+" "+H[e]}))},t.prototype.setFramebuffer=function(e){var t=new Uint8ClampedArray(K.memory.buffer,e,92160);this._img=new ImageData(t,160,144)},t.prototype.updateImage=function(){if(this._img){var e=this._canvasRef.current.getContext("2d");e&&e.putImageData(this._img,0,0)}},t.prototype.clear=function(){var e=this._canvasRef.current,t=e.getContext("2d");t&&t.clearRect(0,0,e.width,e.height)},t}(a.wA),J=(0,i.ZF)("settings",V),Y=n(802),Z=n(563),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Q.apply(this,arguments)},X={scale:1.2,styleName:"classic",keys:(z={},z[r.mp.Up]=o["⬆"],z[r.mp.Down]=o["⬇"],z[r.mp.Left]=o["⬅"],z[r.mp.Right]=o["➡"],z[r.mp.A]=o.A,z[r.mp.B]=o.S,z[r.mp.Select]=o.ALT,z[r.mp.Start]=o.ENTER,z),maxFps:60,serialEnabled:!1,audioEnabled:!0};var $=function(){return $=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$.apply(this,arguments)},ee={loaded:!1,title:"",type:"",licensee:"",romSize:0,ramSize:0,colorMode:"",isJp:!1,version:0,checksum:!1};var te={text:""};const ne=(0,Z.M)([function(e){e.on("@init",(function(){return{settings:X}})),e.on("settings/scale/update",(function(e,t){var n=e.settings;return{settings:Q(Q({},n),{scale:t})}})),e.on("settings/key/update",(function(e,t){var n,r=e.settings;return{settings:Q(Q({},r),{keys:Q(Q({},r.keys),(n={},n[t.name]=t.code,n))})}})),e.on("settings/style/update",(function(e,t){var n=e.settings;return{settings:Q(Q({},n),{styleName:t})}})),e.on("settings/max-fps/update",(function(e,t){var n=e.settings;return{settings:Q(Q({},n),{maxFps:t})}})),e.on("settings/serial/update",(function(e,t){var n=e.settings;return{settings:Q(Q({},n),{serialEnabled:t})}})),e.on("settings/audio-enabled/update",(function(e,t){var n=e.settings;return{settings:Q(Q({},n),{audioEnabled:t})}})),e.on("settings/reset",(function(){return{settings:X}}))},function(e){e.on("@init",(function(){return{cartridge:ee}})),e.on("cartridge/load",(function(e,t){return{cartridge:{loaded:!0,title:t.title(),type:t.cartridge_type(),licensee:t.licensee(),romSize:t.rom_size(),ramSize:t.ram_size(),colorMode:t.cgb_mode(),isJp:t.is_jp(),version:t.version(),checksum:t.checksum()}}})),e.on("cartridge/unload",(function(){return{cartridge:$({},ee)}}))},function(e){e.on("@init",(function(){return{serial:te}})),e.on("serial/putchar",(function(e,t){return{serial:{text:e.serial.text+t}}})),e.on("serial/clear",(function(){return{serial:te}}))},(0,Y.x)(["settings"])]);var re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ae=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{_(r.next(e))}catch(e){i(e)}}function o(e){try{_(r.throw(e))}catch(e){i(e)}}function _(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}_((r=r.apply(e,t||[])).next())}))},ie=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},se={x:47,y:285,width:18,height:18},oe={x:47,y:323,width:18,height:18},_e={x:28,y:304,width:18,height:18},ce={x:66,y:304,width:18,height:18},le={x:225,y:284,width:28,height:28},ue={x:178,y:306,width:28,height:28},de={x:83,y:375,width:34,height:10},he={x:131,y:375,width:34,height:10},fe=function(e,t,n,r,a,i){var s=e+r.x*a-i,o=t+r.y*a-i;return n.clientX>=s-n.radiusX&&n.clientX<=s+r.width*a+i+n.radiusX&&n.clientY>=o-n.radiusY&&n.clientY<=o+r.height*a+i+n.radiusY},pe=function(e){function t(t){var n=e.call(this,t)||this;return n._gameRef=(0,a.Vf)(),n._screenRef=(0,a.Vf)(),n._fpsRef=(0,a.Vf)(),n._reqId=void 0,n.state={key_Up_active:!1,key_Down_active:!1,key_Left_active:!1,key_Right_active:!1,key_A_active:!1,key_B_active:!1,key_Select_active:!1,key_Start_active:!1,isRunning:!1},n._updateFrame=n._updateFrame.bind(n),n}return re(t,e),t.prototype._handleControlTouch=function(e){var t=this._gameRef.current.getBoundingClientRect(),n=t.x,a=t.y,i=window.screen.width/280,s=12*i;fe(n,a,e,se,i,s)&&this._pressCtrl(r.mp.Up,!0),fe(n,a,e,oe,i,s)&&this._pressCtrl(r.mp.Down,!0),fe(n,a,e,_e,i,s)&&this._pressCtrl(r.mp.Left,!0),fe(n,a,e,ce,i,s)&&this._pressCtrl(r.mp.Right,!0),fe(n,a,e,le,i,s)&&this._pressCtrl(r.mp.A,!0),fe(n,a,e,ue,i,s)&&this._pressCtrl(r.mp.B,!0),fe(n,a,e,de,i,0)&&this._pressCtrl(r.mp.Select,!0),fe(n,a,e,he,i,0)&&this._pressCtrl(r.mp.Start,!0)},t.prototype._handleTouch=function(e){1===e.touches.length?this._handleControlTouch(e.touches[0]):(this._handleControlTouch(e.touches[0]),this._handleControlTouch(e.touches[1]))},t.prototype._pressCtrl=function(e,t){var n;this.setState(((n={})["key_".concat(r.mp[e],"_active")]=t,n)),this.emu&&this.emu.set_button(e,t)},t.prototype._handleKeyPress=function(e,t){var n=this.props.settings.keys;for(var r in n)n[r]==e&&this._pressCtrl(r,t)},t.prototype._updateFrame=function(){if(this.emu&&this.state.isRunning){var e=1e3/this.props.settings.maxFps,t=this._fpsRef.current.elapsed();this._reqId=requestAnimationFrame(this._updateFrame),t>e&&(this._fpsRef.current.update(t%e),this.emu.update(),this._screenRef.current.updateImage())}},t.prototype.loadCartridge=function(e){return ae(this,void 0,void 0,(function(){var t=this;return ie(this,(function(n){switch(n.label){case 0:return this.emu?this.emu.load_cartridge(e):(this.emu=r.G2.new(e,(function(e){t.props.dispatch("serial/putchar",String.fromCharCode(e))})),this._screenRef.current.setFramebuffer(this.emu.framebuffer())),[4,this.run()];case 1:return n.sent(),[2]}}))}))},t.prototype.run=function(){return ae(this,void 0,void 0,(function(){return ie(this,(function(e){switch(e.label){case 0:return[4,this.setState({isRunning:!0})];case 1:return e.sent(),this._reqId&&cancelAnimationFrame(this._reqId),this._fpsRef.current.start(),this._updateFrame(),[2]}}))}))},t.prototype.stop=function(){this.emu&&this.emu.reset(),this._screenRef.current.clear(),this.setState({isRunning:!1})},t.prototype.componentDidMount=function(){var e=this;h()?this._gameRef&&this._gameRef.current&&(this._gameRef.current.addEventListener("touchstart",(function(t){e._handleTouch(t)})),this._gameRef.current.addEventListener("touchend",(function(){e._pressCtrl(r.mp.Up,!1),e._pressCtrl(r.mp.Down,!1),e._pressCtrl(r.mp.Left,!1),e._pressCtrl(r.mp.Right,!1),e._pressCtrl(r.mp.A,!1),e._pressCtrl(r.mp.B,!1),e._pressCtrl(r.mp.Select,!1),e._pressCtrl(r.mp.Start,!1)}))):(document.addEventListener("keydown",(function(t){t.preventDefault(),e._handleKeyPress(t.keyCode,!0)})),document.addEventListener("keyup",(function(t){t.preventDefault(),e._handleKeyPress(t.keyCode,!1)}))),document.addEventListener("visibilitychange",(function(){if(e.emu){var t=e.props.settings.audioEnabled;e.emu.enable_audio(!document.hidden&&t)}})),ne.on("settings/audio-enabled/update",(function(t,n){e.emu&&e.emu.enable_audio(!document.hidden&&n)}))},t.prototype.render=function(){var e=this,t=this.props.settings.scale;return h()&&(t=window.screen.width/280),(0,a.h)("div",{class:"WUBfqXa_9TP7DdiHvN1C",style:{width:280*t}},(0,a.h)(P,{onload:function(t){e.loadCartridge(t)}}),(0,a.h)("div",{ref:this._gameRef,class:"yzss31FT0PgvHRDUIWZd",style:{height:462*t}},(0,a.h)(N,{x:33,y:4,width:80,height:18,scale:t,toggled:this.state.isRunning,onChange:function(t){return t?e.run():e.stop()}}),(0,a.h)(C,{x:35,y:110,width:8,height:8,scale:t,className:"k8fNQFot2FdnE7qT6HYY"+(this.state.isRunning?" ".concat("gSFXOHY0btUzEJaVHuW9"):"")}),(0,a.h)(J,{ref:this._screenRef,x:60,y:57,width:160,height:144,scale:t}),(0,a.h)(U,{x:se.x,y:se.y,scale:t,active:this.state.key_Up_active}),(0,a.h)(U,{x:oe.x,y:oe.y,scale:t,active:this.state.key_Down_active}),(0,a.h)(U,{x:_e.x,y:_e.y,scale:t,active:this.state.key_Left_active}),(0,a.h)(U,{x:ce.x,y:ce.y,scale:t,active:this.state.key_Right_active}),(0,a.h)(x,{x:le.x,y:le.y,scale:t,active:this.state.key_A_active}),(0,a.h)(x,{x:ue.x,y:ue.y,scale:t,active:this.state.key_B_active}),(0,a.h)(S,{x:de.x,y:de.y,scale:t,active:this.state.key_Select_active}),(0,a.h)(S,{x:he.x,y:he.y,scale:t,active:this.state.key_Start_active})),(0,a.h)(F,{ref:this._fpsRef}))},t}(a.wA),be=(0,i.ZF)("settings",pe),ge=function(e){var t=e.children;return(0,a.h)("div",{class:"container"},(0,a.h)("div",{class:"columns is-2"},t))},me=function(e){var t=e.children;return(0,a.h)("header",null,t)},we=function(e){var t=e.children;return(0,a.h)("div",{class:"footer"},(0,a.h)("div",{class:"content is-size-6 has-text-centered"},t))},ye=function(e){var t=e.children;return(0,a.h)("div",{class:"column is-narrow"},t)},ve=function(e){var t=e.children;return(0,a.h)("div",{class:"column is-hidden-touch"},(0,a.h)("div",{class:"pt-4",style:{minWidth:"250px"}},t))};var Ee=function(){var e=(0,c.sO)(null),t=(0,i.bI)("serial","settings"),n=t.serial.text,r=t.settings.serialEnabled;return e.current&&(e.current.value=n),r?(0,a.h)("article",{class:"message"},(0,a.h)("div",{class:"message-header"},"Serial"),(0,a.h)("div",{class:"message-body"},(0,a.h)("textarea",{class:"textarea is-small ".concat("SxJjF_GgPuIJtAiv_OHF"),ref:e,readonly:!0}))):null};(0,r.DH)(),(0,a.sY)((0,a.h)((function(){return(0,a.h)(i.xf.Provider,{value:ne},(0,a.h)(me,null,(0,a.h)(M,null)),(0,a.h)(ge,null,(0,a.h)(ve,null,(0,a.h)(_,null)),(0,a.h)(ye,null,(0,a.h)(be,null)),(0,a.h)(ve,null,(0,a.h)(Ee,null))),(0,a.h)(we,null,"v","0.0.8"," | ",(0,a.h)("a",{href:"https://github.com/alexlren/padme-browser/tree/8d6aa9c1a47a0d48167cf5d04493ed4d046407b0"},"8d6aa9c1")))}),null),document.querySelector("#app"))},425:(e,t,n)=>{e.exports=n.p+"c10c0f0fd39f30d9d82d.svg"},564:(e,t,n)=>{var r=n.w[e.id];e.exports=r,n(269),r[""]()}}]);